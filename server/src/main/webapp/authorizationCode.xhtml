<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html" contentType="text/html" locale="#{language.localeCode}">
    <h:html>
        <h:head>
            <h:outputScript>
                //<![CDATA[
        function generateQueryString() {
                    var href = window.location.href;
                    var queryString = "";

                    var currentQueryString = "";
                    var hashQueryString = "";
                    if (href.indexOf('?') != -1) {
                        if (href.indexOf('#') != -1) {
                            currentQueryString = href.slice(href.indexOf('?') + 1, href.indexOf('#'));
                        } else {
                            currentQueryString = href.slice(href.indexOf('?') + 1);
                        }
                    }
                    if (href.indexOf('#') != -1) {
                        hashQueryString = href.slice(href.indexOf('#') + 1);
                    }

                    if (currentQueryString != "" || hashQueryString != "") {
                        if (currentQueryString != "") {
                            queryString = "?" + currentQueryString;
                            if (hashQueryString != "") {
                                queryString += "&" + hashQueryString;
                            }
                        } else {
                            queryString = "?" + hashQueryString;
                        }
                    }
                    return queryString;
                }

                function redirect() {
                    var loc = "#{request.contextPath}/authentication/getauthcode" + generateQueryString();
                    window.location = loc;
                }

                // ]]>
            </h:outputScript>
        </h:head>
        <h:body onload="redirect()"/>
    </h:html>
</f:view>
